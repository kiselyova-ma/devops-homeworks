# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД.
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

- Электронные чеки в json виде

NoSQL документо-ориентированная - данные хранятся в виде документов в json формате, тдельный json для отдельного документа.

- Склады и автомобильные дороги для логистической компании

NoSQL Сетевая - иерархическая структура с допустимостью существования множественных отношений.
Преимущество: относительная гибкость и оперативность (быстродействие). 

- Генеалогические деревья

NoSQL Иерархическая - буквально структура дерева.

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

NoSQL Ключ-значение - устоявшееся использование. Скорость, масштабируемость и простота.

- Отношения клиент-покупка для интернет-магазина

Реляционная - согласованные данные. Сущности и отношения в базе данных должны быть связаны. 
Минимальный набор сущностей: клиент, товар, заказ. Свзи будут как множественными, так и единичными, например, у одного клиента может быть несколько заказов. 

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию).

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

| Система  | CAP | PACELC |
| ------------- | ------------- | ------------- |
| Данные записываются на все узлы с задержкой до часа (асинхронная запись)  | CA  | EL-PC |
| При сетевых сбоях, система может разделиться на 2 раздельных кластера  | AP  | PA-EL |
| Система может не прислать корректный ответ или сбросить соединение  | CP  | PA-EC |

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

BASE и ACID противоположные подходы к построению БД.
К сожалению, система не может быть одновременно надеждёжной, предсказуемой, согласованной, доступной и быстродейственной.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы? 

Хранилище Redis. 

Недостатки Redis
Redis- NoSQL БД, поэтому к нему переезжают все недостатки NoSQL. Нет языка запросов, следовательно система теряет в гибкости. 
Нет возможности управлять большим количеством данных, все данные хранятся в памяти.
Как следствие, чем больше данных, тем существенно дороже их хранить. Так же страдает отказоустойчивость, при завершении процесса в аутедже данные будут потеряны.
Фоновое сохранение данных на диск выжирает ресурсы и скорее всего нанесёт ущерб производительности и отказоустойчивости
Система имеет Базовую безопасность, что так же может быть недостатком для использования данной БД в неотокрых случаях.


